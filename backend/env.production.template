# ============================================
# VARIABLES DE ENTORNO PARA PRODUCCIÓN
# ============================================
# Copia este archivo a .env.production y completa los valores
# NUNCA commitees el archivo .env.production con valores reales

# ============================================
# BASE DE DATOS
# ============================================
DB_HOST=tu_host_mysql_produccion
DB_PORT=3306
DB_USER=tu_usuario_mysql
DB_PASS=tu_password_seguro_mysql
DB_NAME=pelu_turnos
DB_CONNECTION_LIMIT=20

# ============================================
# JWT Y SEGURIDAD
# ============================================
# IMPORTANTE: Genera secrets seguros y únicos (mínimo 32 caracteres)
# Puedes usar: openssl rand -base64 32
JWT_ACCESS_SECRET=GENERA_UN_SECRET_SEGURO_Y_LARGO_AQUI_MINIMO_32_CARACTERES
JWT_REFRESH_SECRET=GENERA_OTRO_SECRET_DIFERENTE_Y_SEGURO_AQUI_MINIMO_32_CARACTERES

# ============================================
# ENTORNO
# ============================================
NODE_ENV=production
PORT=4000

# ============================================
# URLs Y CORS
# ============================================
FRONTEND_URL=https://arjaerp.com
FRONTEND_URL_HTTPS=https://arjaerp.com
API_URL=https://api.arjaerp.com
BACKEND_URL=https://api.arjaerp.com
SERVER_URL=https://api.arjaerp.com
BASE_URL=https://api.arjaerp.com

# ============================================
# MERCADO PAGO
# ============================================
# Credenciales de PRODUCCIÓN (no usar las de test)
MP_CLIENT_ID=tu_client_id_produccion
MP_CLIENT_SECRET=tu_client_secret_produccion
MP_ACCESS_TOKEN=tu_access_token_produccion
PLATFORM_MP_TOKEN=token_plataforma_mp
PLATFORM_MP_USER_ID=id_usuario_plataforma_mp
MP_REDIRECT_URI=https://api.arjaerp.com/mp/oauth/callback

# ============================================
# SENDGRID (EMAIL)
# ============================================
SENDGRID_API_KEY=tu_api_key_sendgrid
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=tu_sendgrid_api_key
SMTP_FROM=soporte@arjaerp.com.ar
SMTP_USE_POOL=true
SMTP_TLS_REJECT_UNAUTHORIZED=true
SMTP_VERIFY_ON_START=true
SMTP_DEBUG=false
SMTP_CHECK_CONNECTIVITY=true

# Timeouts para producción (en milisegundos)
SMTP_CONNECTION_TIMEOUT=90000
SMTP_GREETING_TIMEOUT=90000
SMTP_SOCKET_TIMEOUT=180000

# ============================================
# SUPER ADMIN
# ============================================
# Emails separados por comas que tendrán acceso de super admin
SUPER_ADMIN_EMAILS=admin1@arjaerp.com,admin2@arjaerp.com

# ============================================
# RAILWAY (si usas Railway)
# ============================================
RAILWAY_ENVIRONMENT=production
RAILWAY_SERVICE_NAME=backend

# ============================================
# WHATSAPP BUSINESS API - OAUTH
# ============================================
# Credenciales de Meta/Facebook App para OAuth
# Obtén estas credenciales desde: https://developers.facebook.com/
META_APP_ID=tu_app_id_de_meta
META_APP_SECRET=tu_app_secret_de_meta

# Versión de la API de WhatsApp (opcional, por defecto v21.0)
WHATSAPP_API_VERSION=v21.0

# IMPORTANTE: Configura el redirect URI en Meta Developers:
# https://developers.facebook.com/apps/{META_APP_ID}/fb-login/settings/
# Agregar: https://tu-backend.com/api/config/whatsapp/callback
# (Debe coincidir EXACTAMENTE con API_URL + /api/config/whatsapp/callback)

# ============================================
# CONFIGURACIÓN DE TURNOS
# ============================================
# Intervalo mínimo entre turnos (en minutos)
# Por defecto: 10 minutos entre cada turno
APPT_BUFFER_MIN=10

# ============================================
# PERFORMANCE Y DEBUGGING (Opcional)
# ============================================
# Habilitar logging de queries lentas (solo si necesitas debuggear)
ENABLE_DB_QUERY_LOGGING=false
SLOW_QUERY_THRESHOLD=1000

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. NUNCA commitees este archivo con valores reales
# 2. Todos los secrets deben ser únicos y seguros
# 3. JWT_ACCESS_SECRET y JWT_REFRESH_SECRET deben ser diferentes
# 4. Verifica que el dominio esté verificado en SendGrid antes de usar
# 5. Usa credenciales de PRODUCCIÓN de MercadoPago (no test)
# 6. Configura backups automáticos de la base de datos
# 7. Monitorea los logs después del deployment

